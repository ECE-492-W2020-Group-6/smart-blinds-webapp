(this["webpackJsonpsmart-blinds-webapp"]=this["webpackJsonpsmart-blinds-webapp"]||[]).push([[0],{58:function(e,t,a){e.exports=a(71)},63:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),c=a.n(o),l=a(18),i=(a(63),a(22)),s={root:"/smart-blinds-webapp",defaultPath:"/",mainTitle:"Smart Blinds",MOTORMIDPOINT:50},u=a(15),m=a(98),d=a(96),p=a(86),f=a(88),E=a(89),h=a(32),b=a(4),g=a(45),v=a.n(g),O=Object(b.a)((function(e){return Object(d.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}})}))((function(e){var t=e.classes,a=e.title;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{position:"static"},r.a.createElement(f.a,null,r.a.createElement(E.a,{component:l.b,to:s.root+"/",edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(v.a,null)),r.a.createElement(h.a,{variant:"h6",color:"inherit"},a))))})),w=a(93),j=a(90),y=a(73),x=a(97),S=a(91),T=a(92),N=a(50),k=a.n(N),B=a(46),P=a.n(B),C=a(47),G=a.n(C),F=a(48),I=a.n(F),A=a(49),M=a.n(A),L=Object(b.a)((function(e){return Object(d.a)({root:{flexGrow:1,padding:e.spacing(0)},title:{flexGrow:1,padding:e.spacing(2)}})}))((function(e){var t=e.classes,a=e.stats;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{className:t.root},r.a.createElement(h.a,{className:t.title,color:"textPrimary"},"Current Status:"),r.a.createElement(j.a,{className:t.root}),r.a.createElement(x.a,null,r.a.createElement(S.a,null,r.a.createElement(P.a,null)),r.a.createElement(T.a,{secondary:"Indoor Temperature",primary:"".concat(a.indoorTemp,"\xb0")})),r.a.createElement(x.a,null,r.a.createElement(S.a,null,a.outdoorTemp<5?r.a.createElement(G.a,null):r.a.createElement(I.a,null)),r.a.createElement(T.a,{secondary:"Outdoor Temperature",primary:"".concat(a.outdoorTemp,"\xb0")})),r.a.createElement(x.a,null,r.a.createElement(S.a,null,r.a.createElement(M.a,null)),r.a.createElement(T.a,{secondary:"Cloud Coverage",primary:a.cloudCoverage}))))})),R=Object(b.a)((function(e){return Object(d.a)({root:{flexGrow:1,padding:e.spacing(0)},title:{flexGrow:1,padding:e.spacing(2)},list:{padding:e.spacing(0)}})}))((function(e){var t=e.stats,a=e.blindList,n=e.switchBlind,o=e.classes;return r.a.createElement("div",{className:o.root},r.a.createElement(L,{stats:t}),r.a.createElement(w.a,null),r.a.createElement(j.a,{className:o.list},a.map((function(e){return r.a.createElement(r.a.Fragment,{key:e.getAddress()},r.a.createElement(y.a,null,r.a.createElement(x.a,{button:!0,onClick:function(){n(e)},component:l.b,to:s.root+"/blind"},r.a.createElement(S.a,null,r.a.createElement(k.a,null)),r.a.createElement(T.a,{primary:e.getName()}))),r.a.createElement(w.a,null))}))))})),J=a(94),W=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{variant:"contained",color:"primary"},"Hello World"))},D=a(54),H=a.n(D),$=a(55),q=a.n($),z=a(36),K=a.n(z),Q=a(53),U=a.n(Q),V=a(51),X=a.n(V),Y=a(52),Z=a.n(Y),_=Object(b.a)((function(e){return Object(d.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},appBar:{top:"auto",bottom:0},toolBar:{display:"flex",justifyContent:"space-between"}})}))((function(e){var t=e.buttons,a=e.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{position:"fixed",className:a.appBar},r.a.createElement(f.a,{className:a.toolBar},t.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},e)})))))})),ee=Object(b.a)((function(e){return Object(d.a)({root:{flexGrow:1,padding:e.spacing(0)},title:{flexGrow:1,padding:e.spacing(2)},list:{padding:e.spacing(0)}})}))((function(e){var t=e.classes,a=e.blind,o=Object(n.useState)(),c=Object(i.a)(o,2),u=c[0],m=c[1],d=Object(n.useState)(),p=Object(i.a)(d,2),f=p[0],E=p[1];return Object(n.useEffect)((function(){void 0!==a&&(a.getSchedule().then((function(e){E(e)})),a.getStatus().then((function(e){m(e)})))}),[a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{className:t.root},r.a.createElement(h.a,{className:t.title,color:"textPrimary"},"Current Status:"),r.a.createElement(j.a,{className:t.root}),r.a.createElement(x.a,null,r.a.createElement(S.a,null,void 0===u?r.a.createElement(K.a,null):u.motorPosition>s.MOTORMIDPOINT?r.a.createElement(X.a,null):r.a.createElement(Z.a,null)),r.a.createElement(T.a,{secondary:"Motor Position",primary:void 0===u?"loading...":u.motorPosition})),r.a.createElement(x.a,null,r.a.createElement(S.a,null,void 0===f?r.a.createElement(K.a,null):"Auto"===f.days?r.a.createElement(U.a,null):"Light"===f.days?r.a.createElement(H.a,null):r.a.createElement(q.a,null)),r.a.createElement(T.a,{secondary:"Behavior",primary:void 0===f?"loading...":f.days}))),r.a.createElement(_,{buttons:[r.a.createElement(J.a,{component:l.b,to:s.root+"/",color:"inherit"},"Manual Control"),r.a.createElement(J.a,{color:"inherit"},"Set Schedule")]}))})),te=a(17),ae=a.n(te),ne=a(26),re=a(29),oe=a(21),ce=function(){function e(t){Object(re.a)(this,e),this.credentials=void 0,this.credentials=t}return Object(oe.a)(e,[{key:"createFetch",value:function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",mode:"cors",headers:{"Content-Type":"text/json",Auth:this.credentials.password},body:t},e.abrupt("return",fetch(this.credentials.address,a));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),le=function(){function e(t,a){Object(re.a)(this,e),this.name=void 0,this.BlindAPI=void 0,this.address=void 0,this.BlindAPI=new ce(a),this.name=t,this.address=a.address}return Object(oe.a)(e,[{key:"getStatus",value:function(){var e=Object(ne.a)(ae.a.mark((function e(){var t,a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={indoorTemp:22,outdoorTemp:-23,cloudCoverage:"High",motorPosition:50},a=new Promise((function(e,a){setTimeout((function(){e(t)}),500)})),e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getSchedule",value:function(){var e=Object(ne.a)(ae.a.mark((function e(){var t,a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={days:"Auto"},a=new Promise((function(e,a){setTimeout((function(){e(t)}),500)})),e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setSchedule",value:function(){var e=Object(ne.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.BlindAPI.createFetch(JSON.stringify(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getName",value:function(){return this.name}},{key:"setName",value:function(e){this.name=e}},{key:"getAddress",value:function(){return this.address}}]),e}(),ie=Object(b.a)((function(e){return Object(d.a)({root:{height:"100%",margin:"0",width:"100vw",position:"fixed"}})}))((function(e){var t=e.classes,a=new le("Test Blinds",{address:"localhost",password:"123pass"}),o=new le("Other blinds",{address:"1.255.02.3",password:"pass123"}),c=Object(n.useState)([a,o]),l=Object(i.a)(c,2),d=l[0],p=(l[1],Object(n.useState)()),f=Object(i.a)(p,2),E=f[0],h=f[1],b=Object(n.useState)("Smart Blinds"),g=Object(i.a)(b,2),v=g[0],w=g[1],j=Object(n.useState)({indoorTemp:21,outdoorTemp:20,cloudCoverage:"Low",motorPosition:0}),y=Object(i.a)(j,2),x=y[0],S=y[1];function T(e){h(e),w(e.getName())}Object(n.useEffect)((function(){d.length<1||d[0].getStatus().then((function(e){S(e)}))}),[d]);var N=Object(u.g)();return Object(n.useEffect)((function(){N.pathname===s.root+s.defaultPath&&w(s.mainTitle)}),[N]),r.a.createElement("div",{className:t.root},r.a.createElement(m.a,null),r.a.createElement(O,{title:v}),r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:s.root+"/",render:function(e){return r.a.createElement(R,Object.assign({},e,{stats:x,blindList:d,switchBlind:T}))}}),r.a.createElement(u.b,{path:s.root+"/blind",render:function(e){return r.a.createElement(ee,Object.assign({},e,{blind:E}))}}),r.a.createElement(u.b,{path:s.root+"/schedules",component:W}),r.a.createElement(u.a,{to:s.root+s.defaultPath})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(l.a,null,r.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[58,1,2]]]);
//# sourceMappingURL=main.552a5379.chunk.js.map