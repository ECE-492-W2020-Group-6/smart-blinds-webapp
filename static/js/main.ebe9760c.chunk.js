(this["webpackJsonpsmart-blinds-webapp"]=this["webpackJsonpsmart-blinds-webapp"]||[]).push([[0],{100:function(e,t,a){e.exports=a(116)},105:function(e,t,a){},116:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o),l=a(19),s=(a(105),a(14)),i=a(7),u=a(17),d=a.n(u),m=a(35),p=a(31),f=a(26),h=function(){function e(t){Object(p.a)(this,e),this.credentials=void 0,this.jwt=void 0,this.credentials=t,this.jwt="",this.getJWT()}return Object(f.a)(e,[{key:"getJWT",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return{},t={method:"GET",mode:"cors",headers:{"Content-Type":"application/json",authorization:"Basic ".concat(btoa(this.credentials.username+":"+this.credentials.password))}},e.next=4,fetch(this.credentials.address+"/login",t);case 4:return a=e.sent,e.next=7,a.clone().json();case 7:n=e.sent,this.jwt=n.token;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createFetch",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a,n){var r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={},e.t0=a,e.next="GET"===e.t0?4:"POST"===e.t0?6:"DELETE"===e.t0?8:10;break;case 4:return r={method:a,mode:"cors",headers:{"Content-Type":"text/json","x-access-token":this.jwt}},e.abrupt("break",10);case 6:return r={method:a,mode:"cors",headers:{"Content-Type":"application/json","x-access-token":this.jwt},body:n},e.abrupt("break",10);case 8:return r={method:a,mode:"cors",headers:{"Content-Type":"application/json","x-access-token":this.jwt}},e.abrupt("break",10);case 10:return o=fetch(this.credentials.address+"/api/v1"+t,r),e.next=13,o;case 13:if(e.t1=e.sent.status,200!==e.t1){e.next=18;break}return e.abrupt("return",o);case 18:return e.next=20,this.getJWT();case 20:return e.abrupt("return",fetch(this.credentials.address+"/api/v1"+t,r));case 21:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()}]),e}(),b=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],E=function(){function e(t,a){Object(p.a)(this,e),this.name=void 0,this.BlindAPI=void 0,this.address=void 0,void 0===a.username&&(a.username="blindUser"),this.BlindAPI=new h(a),this.name=t,this.address=a.address}return Object(f.a)(e,[{key:"getStatus",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.BlindAPI.createFetch("/status","GET");case 2:return t=e.sent,e.next=5,t.clone().json();case 5:return a=e.sent,n={indoorTemp:a.temperature,motorPosition:a.position,mode:a.mode},r=new Promise((function(e,t){setTimeout((function(){e(n)}),500)})),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"GetCurrentBehavior",value:function(e){var t=this,a=new Date,n=e[b[a.getUTCDay()]];return 0===n.length?e.defaultMode:(n.forEach((function(e){if(t.TimeslotIsActive(e,a))return e.mode})),e.defaultMode)}},{key:"TimeslotIsActive",value:function(e,t){function a(e){return"".concat(e.getUTCHours).concat(e.getUTCMinutes).concat(e.getUTCSeconds)}var n=a(t);return n>=a(e.start)&&n<a(e.end)}},{key:"getSchedule",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.BlindAPI.createFetch("/schedule","GET");case 2:return t=e.sent,e.next=5,t.clone().json();case 5:return a=e.sent,n={defaultMode:{type:a.default_mode,percentage:a.default_pos},monday:a.schedule.monday.map(this.timeBlockFromjson),tuesday:a.schedule.tuesday.map(this.timeBlockFromjson),wednesday:a.schedule.wednesday.map(this.timeBlockFromjson),thursday:a.schedule.thursday.map(this.timeBlockFromjson),friday:a.schedule.friday.map(this.timeBlockFromjson),saturday:a.schedule.saturday.map(this.timeBlockFromjson),sunday:a.schedule.sunday.map(this.timeBlockFromjson)},r=new Promise((function(e,t){setTimeout((function(){e(n)}),500)})),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setSchedule",value:function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.scheduleToJson(t),this.BlindAPI.createFetch("/schedule","POST",JSON.stringify(a));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendCommand",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a,n){var r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,this.BlindAPI.createFetch("/command","DELETE");case 3:r=e.sent,e.next=9;break;case 6:return e.next=8,this.BlindAPI.createFetch("/command","POST",JSON.stringify(a));case 8:r=e.sent;case 9:return e.next=11,r.clone().json();case 11:o=e.sent,n(o);case 13:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getName",value:function(){return this.name}},{key:"setName",value:function(e){this.name=e}},{key:"getAddress",value:function(){return this.address}},{key:"scheduleToJson",value:function(e){var t=e.defaultMode.percentage;return void 0===t&&(t=null),{default_mode:e.defaultMode.type,default_pos:t,timezone:"America/Edmonton",schedule:{monday:e.monday.map(this.timeBlockToJson),tuesday:e.tuesday.map(this.timeBlockToJson),wednesday:e.wednesday.map(this.timeBlockToJson),thursday:e.thursday.map(this.timeBlockToJson),friday:e.friday.map(this.timeBlockToJson),saturday:e.saturday.map(this.timeBlockToJson),sunday:e.sunday.map(this.timeBlockToJson)}}}},{key:"timeBlockToJson",value:function(e){var t=e.mode.percentage;void 0===t&&(t=null);var a=function(e){for(var t=String(e);t.length<2;)t="0"+t;return t};return{start:a(e.start.getHours())+":"+a(e.start.getMinutes()),end:a(e.end.getHours())+":"+a(e.end.getMinutes()),mode:e.mode.type,position:t}}},{key:"timeBlockFromjson",value:function(e){return{start:new Date("2020-01-01T"+e.start),end:new Date("2020-01-01T"+e.end),mode:{type:e.mode,percentage:e.position}}}}]),e}(),g={type:"BALANCED"},v=new Date("2020-03-22T06:00:00Z"),y=new Date(v);y.setHours(4),new Date(y).setHours(8);var j={defaultMode:g,monday:[],tuesday:[],wednesday:[],thursday:[],friday:[],saturday:[],sunday:[]},O={root:"/smart-blinds-webapp",defaultPath:"/",mainTitle:"Smart Blinds",MOTORMIDPOINT:-30,testCases:{schedules:[j],stats:[{indoorTemp:21,mode:"DARK",motorPosition:0}],blinds:[new E("Real Blind",{address:"http://10.147.17.181:5000",password:"password"}),new E("Localhost",{address:"http://127.0.0.1:5000",password:"password"})]},defaultObjects:{schedule:j,blindMode:g,stats:{indoorTemp:0,mode:"BALANCED",motorPosition:0},credentials:{address:"http://10.147.17.181:5000",password:""}}},w=a(23),C=a(92),k=a(80),x=a.n(k),N=a(79),A=a.n(N),T=a(78),S=a.n(T),B=Object(C.a)({palette:{primary:S.a,secondary:A.a,info:x.a}}),M=a(166),D=a(168),L=a(145),P=a(148),F=a(149),I=a(56),G=a(4),J=a(82),R=a.n(J),H=Object(G.a)((function(e){return Object(D.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}})}))((function(e){var t=e.classes,a=e.title;return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{position:"static"},r.a.createElement(P.a,null,r.a.createElement(F.a,{component:l.b,to:O.root+"/",edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(R.a,null)),r.a.createElement(I.a,{variant:"h6",color:"inherit"},a))))})),W=a(159),U=a(157),K=a(150),q=a(117),_=a(118),z=a(151),V=a(152),Z=a(156),$=a(83),Q=a.n($),X=a(52),Y=a.n(X),ee=Object(G.a)((function(e){return Object(D.a)({root:{flexGrow:1,padding:e.spacing(0)},title:{flexGrow:1,padding:e.spacing(2)}})}))((function(e){var t=e.classes,a=e.stats;return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{className:t.root},r.a.createElement(I.a,{className:t.title,color:"textPrimary"},"Current Status:"),r.a.createElement(K.a,{className:t.root}),r.a.createElement(_.a,null,r.a.createElement(z.a,null,r.a.createElement(Y.a,null)),r.a.createElement(V.a,{secondary:"Indoor Temperature",primary:"".concat(Number(a.indoorTemp).toFixed(2),"\xb0")}))))})),te=Object(G.a)((function(e){return Object(D.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},appBar:{top:"auto",bottom:0},toolBar:{display:"flex",justifyContent:"space-between"}})}))((function(e){var t=e.buttons,a=e.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{position:"fixed",className:a.appBar},r.a.createElement(P.a,{className:a.toolBar},t.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},e)})))))})),ae=a(162),ne=a(153),re=a(165);function oe(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var ce=Object(G.a)((function(e){return Object(D.a)({root:{flexGrow:1,padding:e.spacing(0)},modalDiv:{position:"absolute",width:"90%",backgroundColor:e.palette.background.paper,border:"2px solid",borderRadius:"4px",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},formControl:{margin:e.spacing(1),midWidth:120,maxWidth:120},inputs:{display:"flex",justifyContent:"left",alignItems:"center",flexWrap:"wrap"},slider:{width:"20%"}})}))((function(e){var t=e.classes,a=e.open,o=e.handleClose,c=e.addBlind,l=Object(n.useState)(oe),s=Object(i.a)(l,1)[0],u=Object(n.useState)("blinds"),d=Object(i.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)(O.defaultObjects.credentials),h=Object(i.a)(f,2),b=h[0],g=h[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,{open:a,onClose:o},r.a.createElement("div",{style:s,className:t.modalDiv,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},r.a.createElement("h2",{id:"simple-modal-title"},"New Connection"),r.a.createElement("p",{id:"simple-modal-description"},"Add Smart Blinds"),r.a.createElement("div",{className:t.inputs},r.a.createElement(ne.a,{className:t.formControl},r.a.createElement(re.a,{required:!0,onChange:function(e){p(e.target.value)},id:"standard-required",label:"Name",defaultValue:m})),r.a.createElement(ne.a,{className:t.formControl},r.a.createElement(re.a,{onChange:function(e){g({address:e.target.value,password:b.password})},required:!0,id:"standard-required",label:"IP",defaultValue:b.address})),r.a.createElement(ne.a,{className:t.formControl},r.a.createElement(re.a,{onChange:function(e){g({address:b.address,password:e.target.value})},id:"standard-password-input",required:!0,label:"Password",type:"password",autoComplete:"current-password"})),r.a.createElement(Z.a,{onClick:function(){c(new E(m,b)),o()}},"Add Blinds")))))})),le=Object(G.a)((function(e){return Object(D.a)({root:{flexGrow:1,padding:e.spacing(0)},title:{flexGrow:1,padding:e.spacing(2)},list:{padding:e.spacing(0)}})}))((function(e){var t=e.blindList,a=e.switchBlind,o=e.classes,c=e.addBlind,s=O.defaultObjects.stats,u=Object(n.useState)(s),d=Object(i.a)(u,2),m=d[0],p=d[1];Object(n.useEffect)((function(){t[0].getStatus().then((function(e){p(e)}))}),[t]);var f=Object(n.useState)(!1),h=Object(i.a)(f,2),b=h[0],E=h[1];return r.a.createElement("div",{className:o.root},r.a.createElement(ee,{stats:m}),r.a.createElement(U.a,null),r.a.createElement(K.a,{className:o.list},t.map((function(e){return r.a.createElement(r.a.Fragment,{key:e.getAddress()+e.getName()},r.a.createElement(q.a,null,r.a.createElement(_.a,{button:!0,onClick:function(){a(e)},component:l.b,to:O.root+"/blind"},r.a.createElement(z.a,null,r.a.createElement(Q.a,null)),r.a.createElement(V.a,{primary:e.getName()}))),r.a.createElement(U.a,null))}))),r.a.createElement(ce,{open:b,handleClose:function(){E(!1)},addBlind:c}),r.a.createElement(te,{buttons:[r.a.createElement(Z.a,{onClick:function(){E(!0)},color:"inherit"},"Add a Smart Blind")]}))})),se=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{variant:"contained",color:"primary"},"Hello World"))},ie=a(87),ue=a.n(ie),de=a(86),me=a.n(de),pe=a(62),fe=a.n(pe),he=a(88),be=a.n(he),Ee=a(84),ge=a.n(Ee),ve=a(85),ye=a.n(ve),je=a(163),Oe=a(161),we=a(158),Ce=a(167);function ke(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var xe=Object(G.a)((function(e){return Object(D.a)({root:{flexGrow:1,padding:e.spacing(0)},modalDiv:{position:"absolute",width:"90%",backgroundColor:e.palette.background.paper,border:"2px solid",borderRadius:"4px",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},formControl:{margin:e.spacing(1),midWidth:120},inputs:{display:"flex",justifyContent:"left",alignItems:"center",flexWrap:"wrap"},slider:{width:"20%"}})}))((function(e){var t=e.classes,a=e.open,o=e.handleClose,c=e.sendCommand,l=Object(n.useState)(ke),s=Object(i.a)(l,1)[0],u=Object(n.useState)(30),d=Object(i.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)("ECO"),h=Object(i.a)(f,2),b=h[0],E=h[1],g=Object(n.useState)(0),v=Object(i.a)(g,2),y=v[0],j=v[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,{open:a,onClose:o},r.a.createElement("div",{style:s,className:t.modalDiv,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},r.a.createElement("h2",{id:"simple-modal-title"},"Manual Control"),r.a.createElement("p",{id:"simple-modal-description"},"Control the blinds directly"),r.a.createElement("div",{className:t.inputs},r.a.createElement(ne.a,{className:t.formControl},r.a.createElement(je.a,null,"Duration"),r.a.createElement(Oe.a,{value:m,onChange:function(e){p(e.target.value)}},r.a.createElement(we.a,{value:30},"30 Mins"),r.a.createElement(we.a,{value:60},"1 Hour"),r.a.createElement(we.a,{value:240},"4 Hours"),r.a.createElement(we.a,{value:0},"Today"))),r.a.createElement(ne.a,{className:t.formControl},r.a.createElement(je.a,null,"Mode"),r.a.createElement(Oe.a,{value:b,onChange:function(e){E(e.target.value)}},r.a.createElement(we.a,{value:"ECO"},"Eco"),r.a.createElement(we.a,{value:"BALANCED"},"Balanced (Auto)"),r.a.createElement(we.a,{value:"LIGHT"},"Light"),r.a.createElement(we.a,{value:"DARK"},"Dark"),r.a.createElement(we.a,{value:"MANUAL"},"Other"))),"MANUAL"===b?r.a.createElement(Ce.a,{className:t.slider+" "+t.formControl,min:-100,max:100,step:10,value:y,onChange:function(e,t){Array.isArray(t)||j(t)},"aria-labelledby":"continuous-slider"}):"","MANUAL"===b?r.a.createElement(I.a,{className:t.formControl},y+"\xb0"):"",r.a.createElement(Z.a,{onClick:function(){c(!1,b,m,y),o()}},"Send"),r.a.createElement(Z.a,{onClick:function(){c(!0,b,m,y),o()}},"Clear Commands")))))})),Ne=Object(G.a)((function(e){return Object(D.a)({root:{flexGrow:1,padding:e.spacing(0)},title:{flexGrow:1,padding:e.spacing(2)},list:{padding:e.spacing(0)}})}))((function(e){var t=e.classes,a=e.blind,o=Object(n.useState)(O.defaultObjects.stats),c=Object(i.a)(o,2),s=c[0],u=c[1],d=Object(n.useState)(!1),m=Object(i.a)(d,2),p=m[0],f=m[1];function h(e){e.getStatus().then((function(e){u(e)}))}Object(n.useEffect)((function(){void 0!==a&&h(a)}),[a]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{className:t.root},r.a.createElement(I.a,{className:t.title,color:"textPrimary"},"Current Status:"),r.a.createElement(K.a,{className:t.root}),r.a.createElement(_.a,null,r.a.createElement(z.a,null,r.a.createElement(Y.a,null)),r.a.createElement(V.a,{secondary:"Indoor Temperature",primary:void 0===s?"loading...":"".concat(Number(s.indoorTemp).toFixed(2),"\xb0")})),r.a.createElement(_.a,null,r.a.createElement(z.a,null,void 0===s?r.a.createElement(fe.a,null):s.motorPosition>O.MOTORMIDPOINT?r.a.createElement(ge.a,null):r.a.createElement(ye.a,null)),r.a.createElement(V.a,{secondary:"Motor Position",primary:void 0===s?"loading...":"".concat(Number(s.motorPosition).toFixed(2),"\xb0")})),r.a.createElement(_.a,null,r.a.createElement(z.a,null,void 0===s?r.a.createElement(fe.a,null):"DARK"===s.mode?r.a.createElement(me.a,null):"LIGHT"===s.mode?r.a.createElement(ue.a,null):r.a.createElement(be.a,null)),r.a.createElement(V.a,{secondary:"Behavior",primary:void 0===s?"loading...":s.mode}))),r.a.createElement(te,{buttons:[r.a.createElement(Z.a,{onClick:function(){f(!0)},color:"inherit"},"Manual Control"),r.a.createElement(Z.a,{component:l.b,to:O.root+"/blind/createschedule",color:"inherit"},"Set Schedule")]}),r.a.createElement(xe,{open:p,handleClose:function(){f(!1)},sendCommand:function(e,t,n,r){var o=0;void 0!==r&&(o=r);a.sendCommand(e,{mode:t,duration:n,position:o},(function(e){h(a)}))}}))})),Ae=a(89),Te=a(90),Se=a(93),Be=a(91),Me=a.n(Be),De=(a(115),function(e){function t(){return Object(p.a)(this,t),Object(Ae.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(Se.a)(t,e),t}(Me.a)),Le=Object(G.a)((function(e){return Object(D.a)({root:{flexGrow:1,padding:e.spacing(0)},weekWrapper:{display:"grid",gridTemplateColumns:"repeat(8, minmax(25px, 1fr))",gridTemplateRows:"1fr",gridAutoFlow:"dense",justifyItems:"stretch",alignItems:"stretch",margin:e.spacing(1)},timeSlotWrapper:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"scroll",height:"70vh"},dayHeader:{textAlign:"center"},tableRow:{height:e.spacing(6),textAlign:"center",alignItems:"center",padding:"0px"},timeTable:{borderBottomColor:"rgb(139, 195, 74)",tableLayout:"fixed",borderSpacing:"0px",width:"calc(100% - 8px)",minWidth:e.spacing(3),margin:e.spacing(1)},fitTables:{width:"12.5%"},ecoClass:{verticalAlign:"middle !important",background:"".concat(e.palette.primary.dark," !important"),color:"".concat(e.palette.grey[50]," !important")},lightClass:{verticalAlign:"middle !important",background:"".concat(e.palette.info.light," !important"),color:"".concat(e.palette.grey[800]," !important")},darkClass:{verticalAlign:"middle !important",background:"".concat(e.palette.grey[600]," !important"),color:"".concat(e.palette.grey[50]," !important")},manualClass:{verticalAlign:"middle !important",background:"".concat(e.palette.secondary.light," !important"),color:"".concat(e.palette.grey[800]," !important")},balancedClass:{verticalAlign:"middle !important",background:"".concat(e.palette.primary.light," !important"),color:"".concat(e.palette.grey[800]," !important")},typeSelect:{display:"flex",justifyContent:"space-around",alignItems:"center",width:"100%",position:"absolute",bottom:"60px"},slider:{width:"20%"}})}))((function(e){var t=e.classes,a=e.blind,o=Object(n.useState)(JSON.parse(JSON.stringify(O.defaultObjects.schedule))),c=Object(i.a)(o,2),u=c[0],d=c[1],m=function(e){var t=0;return t+=4*e.getHours(),t+=Math.ceil(e.getMinutes()/15)},p={ECO:t.ecoClass,LIGHT:t.lightClass,DARK:t.darkClass,MANUAL:t.manualClass,BALANCED:t.balancedClass},f={ECO:"Eco",LIGHT:"Light",DARK:"Dark",MANUAL:"Set",BALANCED:"Auto"},h=function(e){for(var t=[],a=function(a){for(var n=b[a],r=0;r<96;r++)void 0===t[r]&&(t[r]=[]),t[r].push({value:f[e.defaultMode.type],mode:e.defaultMode,className:p[e.defaultMode.type],readOnly:!0});e[n].forEach((function(e){for(var n=m(e.start),r=m(e.end),o=n;o<r;o++)t[o][a].value=f[e.mode.type],t[o][a].mode=e.mode,t[o][a].className=p[e.mode.type]}))},n=0;n<7;n++)a(n);return t},E=Object(n.useState)(h(u)),g=Object(i.a)(E,2),v=g[0],y=g[1],j=Object(n.useState)(O.defaultObjects.blindMode),w=Object(i.a)(j,2),C=w[0],k=w[1],x=Object(n.useState)(C.percentage?C.percentage:0),N=Object(i.a)(x,2),A=N[0],T=N[1],S=Object(n.useState)({start:{i:0,j:0},end:{i:0,j:0}}),B=Object(i.a)(S,2),M=B[0],D=B[1];Object(n.useEffect)((function(){void 0!==a&&a.getSchedule().then((function(e){d(e)}))}),[a]),Object(n.useEffect)((function(){void 0!==u&&y(h(u))}),[u]);for(var L=function(){var e=function(e){var t=JSON.parse(JSON.stringify(O.defaultObjects.schedule));t.defaultMode=C;for(var a=function(e){return r(Math.floor(e/4))},n=function(e){return r(e%4*15)},r=function(e){for(var t=String(e);t.length<2;)t="0"+t;return t},o=0;o<e.length;o++)for(var c=0;c<e[o].length;c++){var l=e[o],s=new Date("2020-01-01T".concat(a(o+1),":").concat(n(o+1),":00"));0===s.getMinutes()&&0===s.getHours()&&(s.setHours(23),s.setMinutes(59)),t[b[c]].push({start:new Date("2020-01-01T".concat(a(o),":").concat(n(o),":00")),end:s,mode:l[c].mode})}return t}(v);d(e),a.setSchedule(e)},P=["Time"].concat(Object(s.a)(b.map((function(e){return function(e){return e[0].toLocaleUpperCase()+e.slice(1,3)}(e)})))).map((function(e,a){return r.a.createElement(I.a,{key:e,className:t.dayHeader},e)})),F=[],G=0;G<96;G++){var J=Math.floor(G/4),R=J>11?"PM":"AM";"PM"===R&&12!==J?J-=12:0===J&&(J+=12);var H=G%4*15,W="".concat(J,":").concat(0===H?"00":H," ").concat(R," ");void 0===F[G]&&(F[G]=[]),F[G].push({value:W})}var U=r.a.createElement(De,{data:v,valueRenderer:function(e){return e.value},className:t.timeTable,rowRenderer:function(e){return r.a.createElement("tr",{className:t.tableRow},e.children)},onSelect:function(e){D(e)}}),K=r.a.createElement(De,{data:F,valueRenderer:function(e){return e.value},sheetRenderer:function(e){return r.a.createElement("table",{className:t.timeTable},r.a.createElement("tbody",null,e.children))},rowRenderer:function(e){return r.a.createElement("tr",{className:t.tableRow},e.children)}});return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{className:t.root},r.a.createElement("div",{className:t.weekWrapper},P),r.a.createElement("div",{className:t.timeSlotWrapper},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:t.fitTables},K),r.a.createElement("td",null,U))))),r.a.createElement(q.a,{className:t.typeSelect},r.a.createElement(I.a,null,"Set Mode"),r.a.createElement(ne.a,null,r.a.createElement(Oe.a,{value:C.type,onChange:function(e){k({type:e.target.value,percentage:A})}},r.a.createElement(we.a,{value:"ECO"},"Eco"),r.a.createElement(we.a,{value:"BALANCED"},"Balanced (Auto)"),r.a.createElement(we.a,{value:"LIGHT"},"Light"),r.a.createElement(we.a,{value:"DARK"},"Dark"),r.a.createElement(we.a,{value:"MANUAL"},"Custom"))),"MANUAL"===C.type?r.a.createElement(Ce.a,{className:t.slider,min:-100,max:100,step:10,value:A,onChange:function(e,t){Array.isArray(t)||T(t)},"aria-labelledby":"continuous-slider"}):"","MANUAL"===C.type?r.a.createElement(I.a,null,A+"\xb0"):"",r.a.createElement(Z.a,{onClick:function(){!function(){for(var e=v.map((function(e){return Object(s.a)(e)})),t=M.start.i;t<=M.end.i;t++)for(var a=M.start.j;a<=M.end.j;a++)e[t][a].value=f[C.type],e[t][a].mode=C,e[t][a].className=p[C.type];y(e)}()}},"Apply"))),r.a.createElement(te,{buttons:[r.a.createElement(Z.a,{onClick:function(){L()},component:l.b,to:O.root+"/blind",color:"inherit"},"Save"),r.a.createElement(Z.a,{onClick:function(){y(h(u))},component:l.b,to:O.root+"/blind",color:"inherit"},"Cancel")]}))})),Pe=Object(G.a)((function(e){return Object(D.a)({root:{height:"100%",margin:"0",width:"100vw",position:"fixed"}})}))((function(e){var t=e.classes,a=O.testCases.blinds,o=Object(n.useState)(a),c=Object(i.a)(o,2),l=c[0],u=c[1],d=Object(n.useState)(l[0]),m=Object(i.a)(d,2),p=m[0],f=m[1],h=Object(n.useState)("Smart Blinds"),b=Object(i.a)(h,2),E=b[0],g=b[1];function v(e){f(e),g(e.getName())}function y(e){u([].concat(Object(s.a)(l),[e]))}function j(e){var t=JSON.parse(JSON.stringify(l));t.splice(e,1),u(t)}var C=Object(w.g)();return Object(n.useEffect)((function(){C.pathname===O.root+O.defaultPath&&g(O.mainTitle)}),[C]),r.a.createElement("div",{className:t.root},r.a.createElement(M.a,null),r.a.createElement(W.a,{theme:B},r.a.createElement(H,{title:E}),r.a.createElement(w.d,null,r.a.createElement(w.b,{exact:!0,path:O.root+"/",render:function(e){return r.a.createElement(le,Object.assign({},e,{blindList:l,switchBlind:v,addBlind:y,removeBlind:j}))}}),r.a.createElement(w.b,{exact:!0,path:O.root+"/blind",render:function(e){return r.a.createElement(Ne,Object.assign({},e,{blind:p}))}}),r.a.createElement(w.b,{path:O.root+"/schedules",component:se}),r.a.createElement(w.b,{exact:!0,path:O.root+"/blind/createSchedule",render:function(e){return r.a.createElement(Le,Object.assign({},e,{blind:p}))}}),r.a.createElement(w.a,{to:O.root+O.defaultPath}))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(l.a,null,r.a.createElement(Pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[100,1,2]]]);
//# sourceMappingURL=main.ebe9760c.chunk.js.map